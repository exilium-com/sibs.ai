import{d as v,J as g,z as x,y as m,a as y,o as C,l as a,K as V,c,w as e,V as s,b as u,a0 as h,aP as b,T as f,e as n,U as _,j as w,h as k}from"./main-C-J6Z3r-.js";import{_ as B,A as z}from"./account-manager-list-B0U1hftx.js";import{V as A}from"./VRow-FW63HEHb.js";import{V as N}from"./VCol-BwbjBJsN.js";import"./index-CyksbgDq.js";import"./VSpacer-CR0xiXUC.js";import"./form-validation-Bhn6uNEO.js";import"./VTextField-Bc-Q8fL1.js";import"./primary-button.vue_vue_type_script_setup_true_lang-CCtyAB5E.js";import"./VExpansionPanels-C5uYFmnz.js";const $=v({__name:"signup-invitations",setup(S){const t=g();x(()=>t.invitationCount,()=>{var o;(o=t.person)!=null&&o.by_invitation&&t.invitationCount===0&&l()});const i=m(void 0),d=y();function l(){a.debug(a.context(),"going to authorized"),d.push({name:"authorized"})}return C(async()=>{var o;if(a.debug(a.context(),"entering"),!((o=t.person)!=null&&o.by_invitation)){const{data:p,error:r}=await V("/api/account",{});if(r){a.error(a.context(),r);return}i.value={id:p._id,role:"user",isOwner:!0,user:t.person}}}),(o,p)=>(u(),c(s,{class:"v-col-sm-9 v-col-lg-6"},{default:e(()=>[h(n(s,{class:"px-0 py-2"},{default:e(()=>[n(B)]),_:1},512),[[b,f(t).invitationCount]]),i.value?(u(),c(s,{key:0,class:"px-0 py-2"},{default:e(()=>[n(z,{"current-account":m(i.value)},null,8,["current-account"])]),_:1})):_("",!0),n(s,null,{default:e(()=>[n(A,{class:"mt-6"},{default:e(()=>[n(N,{col:"6"},{default:e(()=>{var r;return[(r=f(t).person)!=null&&r.by_invitation?_("",!0):(u(),c(w,{key:0,color:"primary",block:"",class:"mb-4",onClick:l},{default:e(()=>[k("Continue")]),_:1}))]}),_:1})]),_:1})]),_:1})]),_:1}))}});export{$ as default};
